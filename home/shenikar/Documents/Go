package main

func firstCompleteIndex(arr []int, mat [][]int) int {
    m, n := len(mat), len(mat[0])
    numIndex := make(map[int][2]int)
    
    // Создаем карту для хранения позиций каждого числа в матрице
    for i := 0; i < m; i++ {
        for j := 0; j < n; j++ {
            numIndex[mat[i][j]] = [2]int{i, j}
        }
    }
    
    rowCount := make([]int, m)
    colCount := make([]int, n)
    
    // Проходим по arr и отмечаем каждое число
    for i, num := range arr {
        pos := numIndex[num]
        rowCount[pos[0]]++
        colCount[pos[1]]++
        
        // Проверяем, заполнена ли полностью строка или столбец
        if rowCount[pos[0]] == n || colCount[pos[1]] == m {
            return i
        }
    }
    
    return -1 // Этот случай не должен произойти, если входные данные корректны
}